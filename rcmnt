#!/usr/bin/env zsh
# Mount a remote drive with rclone based on the given drive code.
# TODO: Add support for non-cached mounting via argument parsing.

case "$1"
in
    one) name="onedrive";;
    open) name="opendrive";;
    *) echo "No drive code given, exiting."; exit;;
esac

[ -d /mnt/"$name" ] || sudo mkdir /mnt/"$name"
sudo rclone mount --daemon --allow-other --vfs-cache-mode writes "$1": /mnt/"$name"
