#!/usr/bin/env sh
# Toggle X keymap.

currentKeymap="$( xkb-switch )"
hasCycled="true"

case "$currentKeymap"
in
    gb) setxkbmap tr;;
    tr) setxkbmap gb;;
    *) hasCycled="false";;
esac

lcknotiflog

if "$hasCycled"
then
    setxkb
    notify-send -t 500 "⌨ $( xkb-switch )" "Changed current keymap"
    statbarset
else
    notify-send -t 1000 "❌ $currentKeymap" "Current keymap unknown"
fi
