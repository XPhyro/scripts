#!/usr/bin/env bash
# Select a file using fzf and open it using xph-open.

setfile() {
    file="$( fzf )"
}

openfile() {
    [ -n "$file" ] && xph-open "$file"
}

if [ "$#" -eq 0 ]
then
    while true
    do
        setfile
        openfile
    done
else
    while true
    do
        for i
        do
            loc="$( getloc "$i" )"

            [ -d "$loc" ] && cd "$loc" && {
                setfile
                openfile
            }
        done
    done
fi
