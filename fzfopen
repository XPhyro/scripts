#!/usr/bin/env bash
# Select a file using fzf and open it using xph-open.

setfile() {
    file="$( fzf )"
}

openfile() {
    [ -n "$file" ] || return

    xph-open "$file"
}

if [ "$#" -eq 0 ]
then
    setfile
    openfile
else
    for i
    do
        [ "${i:0:1}" = "-" ] && continue

        loc="$( getloc "$i" )"

        [ -n "$loc" ] && {
            cd "$loc" || continue

            setfile

            [ -n "$file" ] || continue

            openfile
        }
    done
fi
