#!/usr/bin/env sh

stdinfl="$(mktemp)"
cp -- /dev/stdin "$stdinfl"

for i; do
    [ "$i" = "-dmenu" ] && exec rofi "$@" -theme-str "window { width: $((($(wc -L < "$stdinfl") + 2) * 16)); }" < "$stdinfl"
done

exec rofi "$@" < "$stdinfl"
