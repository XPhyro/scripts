#!/usr/bin/env sh
# Query volume of default pulseaudio sink.

stat="$( pacmd list-sinks | grep -A 30 "name: <$( voldefsink )>" )"

# TODO: If the line indices are not constant, use grep.
if [ "$( echo "$stat" | sed '11q;d' | awk '{print $2}' )" = "yes" ]
then
    glyph="ðŸ”‡"
else
    glyph="ðŸ”ˆ"
fi

echo "$( echo "$stat" | sed '7q;d' | awk '{print $5}' | sed 's/%//' ) $glyph"
